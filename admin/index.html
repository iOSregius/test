<!doctype html>
<head>
  <meta charset="utf-8">

  <title>login page</title>
  <meta name="description" content="My Parse App">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="../css/reset.css">
  <link rel="stylesheet" href="../css/styles.css">
	  <script src="../js/jquery.js"></script>
		<script src="https://raw.github.com/caolan/async/master/lib/async.js"></script>
		<script src="../js/underscore.js"></script>
		<script src="../js/backbone.js"></script>
	  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.2.1.min.js"></script>
  
</head>

<body>

<div style="display:none" class="success">
      <p>Welcome ..successfully loggin</p>
</div>



<script type="text/javascript">
var app;
    var router = Backbone.Router.extend({
      routes: {
        "": "home"
      },
      initialize: function(){
        
      },
      home: function(){
        this.homeView = new homeView;
        this.homeView.render();
      }
    });
<!------------- LOGIN CODE ------------------------------->
	  Parse.initialize("fWOxyeKJiLh7E5itaqrm0roBKFoJe47CDzhjpexq", "3aq8XaBCCms1uZgsVOVjz7CEjgZs6jDS1Er6NGbw");
	  
	  function AuthenticateUser()
	  {
	  		var uname = document.getElementById('username').value;
			var pass = document.getElementById('password').value;

			// CALLING PARSE LOGIN API FOR AUTHENTICATION
			Parse.User.logIn(uname, pass, {
		  success: function(user) {
		  
		   $(".success").show();
		   	createCookie('uname',uname,1);
			window.location = "select.html";
		  },
		  error: function(user, error) {
		   alert("Enter correct Username/Password");
			// The login failed. Check error to see why.
		  }
		});
		}

<!------------- LOGIN CODE ------------------------------->

<!-------------------- Login View ------------------------>


    var homeView = Backbone.View.extend({
      el: 'body',
		  template: _.template('<div style="width:auto;background-color:#99CCFF;margin:0 auto;height:50px;vertical-align:middle;line-height: 50px;"> <h3>Do, Share, Compare&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'
             +'<a href="#apples/<%=name%>" >'
            +'<%=name%>'
            +'</a>&nbsp;<a class="details" style="text-decoration:none" href="login2.html">Login/register</a></div><br /><div>USERNAME :: <input type="text" name="username" id="username" /></div><br /><div>PASSWORD :: <input type="password" id="password" name="password" /> </div><br /><input type="submit" name="submit" id="submit" value="Login" onclick="return AuthenticateUser()"/>'),
	  
      render: function(){
        this.$el.html(this.template({}));
      }
    });


    $(document).ready(function(){
      app = new router;
      Backbone.history.start();      
    })
<!-------------------- Login View ------------------------>

		function createCookie(name,value,days) {
			if (days) {
			var date = new Date();
			date.setTime(date.getTime()+(days*24*60*60*1000));
			var expires = "; expires="+date.toGMTString();
			}
			else var expires = "";
			document.cookie = name+"="+value+expires+"; path=/";
			}
			
	
</script>
</body>